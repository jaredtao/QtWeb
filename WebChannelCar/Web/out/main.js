/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.ts-exposed");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/ts-loader/index.js!./src/main.ts":
/*!**********************************************!*\
  !*** ./node_modules/ts-loader!./src/main.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar webchannelCore_1 = __importDefault(__webpack_require__(/*! ./webchannelCore */ \"./src/webchannelCore.ts-exposed\"));\r\nwindow.onload = function () {\r\n    webchannelCore_1.default.initialize(onInit, onUninit);\r\n};\r\nfunction onInit() {\r\n    window.document.getElementById(\"img\").src = \"../img/connected.svg\";\r\n    var car = webchannelCore_1.default.SDK.car;\r\n    var upBtn = window.document.getElementById(\"up\");\r\n    var downBtn = window.document.getElementById(\"down\");\r\n    var leftBtn = window.document.getElementById(\"left\");\r\n    var rightBtn = window.document.getElementById(\"right\");\r\n    var speedLabel = window.document.getElementById(\"speed\");\r\n    var angleLabel = window.document.getElementById(\"angle\");\r\n    upBtn.onclick = function () {\r\n        car.accelerate();\r\n    };\r\n    downBtn.onclick = function () {\r\n        car.decelerate();\r\n    };\r\n    leftBtn.onclick = function () {\r\n        car.turnLeft();\r\n    };\r\n    rightBtn.onclick = function () {\r\n        car.turnRight();\r\n    };\r\n    car.speedChanged.connect(onSpeedChanged);\r\n    car.angleChanged.connect(onAngleChanged);\r\n}\r\nfunction onUninit() {\r\n    window.document.getElementById(\"img\").src = \"../img/disconnected.svg\";\r\n}\r\nfunction onSpeedChanged() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var speedLabel, car, _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    speedLabel = window.document.getElementById(\"speed\");\r\n                    car = webchannelCore_1.default.SDK.car;\r\n                    _a = speedLabel;\r\n                    return [4 /*yield*/, car.getSpeed()];\r\n                case 1:\r\n                    _a.textContent = _b.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction onAngleChanged() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var angleLabel, car, _a;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    angleLabel = window.document.getElementById(\"angle\");\r\n                    car = webchannelCore_1.default.SDK.car;\r\n                    _a = angleLabel;\r\n                    return [4 /*yield*/, car.getAngle()];\r\n                case 1:\r\n                    _a.textContent = _b.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cz9jZDQ5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsdUhBQThDO0FBQzlDLE1BQU0sQ0FBQyxNQUFNLEdBQUc7SUFDWix3QkFBYyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDaEQsQ0FBQztBQUNELFNBQVMsTUFBTTtJQUNWLE1BQWMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxzQkFBc0IsQ0FBQztJQUU1RSxJQUFJLEdBQUcsR0FBRyx3QkFBYyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7SUFFakMsSUFBSSxLQUFLLEdBQUksTUFBYyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUQsSUFBSSxPQUFPLEdBQUksTUFBYyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDOUQsSUFBSSxPQUFPLEdBQUksTUFBYyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDOUQsSUFBSSxRQUFRLEdBQUksTUFBYyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFaEUsSUFBSSxVQUFVLEdBQUksTUFBYyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEUsSUFBSSxVQUFVLEdBQUksTUFBYyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFbEUsS0FBSyxDQUFDLE9BQU8sR0FBRztRQUNaLEdBQUcsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBQ0QsT0FBTyxDQUFDLE9BQU8sR0FBRztRQUNkLEdBQUcsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBQ0QsT0FBTyxDQUFDLE9BQU8sR0FBRztRQUNkLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNuQixDQUFDO0lBQ0QsUUFBUSxDQUFDLE9BQU8sR0FBRztRQUNmLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBRUQsR0FBRyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDekMsR0FBRyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDN0MsQ0FBQztBQUNELFNBQVMsUUFBUTtJQUNaLE1BQWMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyx5QkFBeUIsQ0FBQztBQUNuRixDQUFDO0FBRUQsU0FBZSxjQUFjOzs7Ozs7b0JBQ3JCLFVBQVUsR0FBSSxNQUFjLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDOUQsR0FBRyxHQUFHLHdCQUFjLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztvQkFFakMsZUFBVTtvQkFBZSxxQkFBTSxHQUFHLENBQUMsUUFBUSxFQUFFOztvQkFBN0MsR0FBVyxXQUFXLEdBQUcsU0FBb0IsQ0FBQzs7Ozs7Q0FDakQ7QUFDRCxTQUFlLGNBQWM7Ozs7OztvQkFDckIsVUFBVSxHQUFJLE1BQWMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUM5RCxHQUFHLEdBQUcsd0JBQWMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO29CQUVqQyxlQUFVO29CQUFlLHFCQUFNLEdBQUcsQ0FBQyxRQUFRLEVBQUU7O29CQUE3QyxHQUFXLFdBQVcsR0FBRyxTQUFvQixDQUFDOzs7OztDQUNqRCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy90cy1sb2FkZXIvaW5kZXguanMhLi9zcmMvbWFpbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWJDaGFubmVsQ29yZSBmcm9tIFwiLi93ZWJjaGFubmVsQ29yZVwiO1xyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgV2ViQ2hhbm5lbENvcmUuaW5pdGlhbGl6ZShvbkluaXQsIG9uVW5pbml0KTtcclxufVxyXG5mdW5jdGlvbiBvbkluaXQoKSB7XHJcbiAgICAod2luZG93IGFzIGFueSkuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWdcIikuc3JjID0gXCIuLi9pbWcvY29ubmVjdGVkLnN2Z1wiO1xyXG5cclxuICAgIGxldCBjYXIgPSBXZWJDaGFubmVsQ29yZS5TREsuY2FyO1xyXG5cclxuICAgIGxldCB1cEJ0biA9ICh3aW5kb3cgYXMgYW55KS5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVwXCIpO1xyXG4gICAgbGV0IGRvd25CdG4gPSAod2luZG93IGFzIGFueSkuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkb3duXCIpO1xyXG4gICAgbGV0IGxlZnRCdG4gPSAod2luZG93IGFzIGFueSkuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWZ0XCIpO1xyXG4gICAgbGV0IHJpZ2h0QnRuID0gKHdpbmRvdyBhcyBhbnkpLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmlnaHRcIik7XHJcblxyXG4gICAgbGV0IHNwZWVkTGFiZWwgPSAod2luZG93IGFzIGFueSkuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGVlZFwiKTtcclxuICAgIGxldCBhbmdsZUxhYmVsID0gKHdpbmRvdyBhcyBhbnkpLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5nbGVcIik7XHJcblxyXG4gICAgdXBCdG4ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICBjYXIuYWNjZWxlcmF0ZSgpO1xyXG4gICAgfVxyXG4gICAgZG93bkJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGNhci5kZWNlbGVyYXRlKCk7XHJcbiAgICB9XHJcbiAgICBsZWZ0QnRuLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgY2FyLnR1cm5MZWZ0KCk7XHJcbiAgICB9XHJcbiAgICByaWdodEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGNhci50dXJuUmlnaHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjYXIuc3BlZWRDaGFuZ2VkLmNvbm5lY3Qob25TcGVlZENoYW5nZWQpO1xyXG4gICAgY2FyLmFuZ2xlQ2hhbmdlZC5jb25uZWN0KG9uQW5nbGVDaGFuZ2VkKTtcclxufVxyXG5mdW5jdGlvbiBvblVuaW5pdCgpIHtcclxuICAgICh3aW5kb3cgYXMgYW55KS5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltZ1wiKS5zcmMgPSBcIi4uL2ltZy9kaXNjb25uZWN0ZWQuc3ZnXCI7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIG9uU3BlZWRDaGFuZ2VkKCkge1xyXG4gICAgbGV0IHNwZWVkTGFiZWwgPSAod2luZG93IGFzIGFueSkuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGVlZFwiKTtcclxuICAgIGxldCBjYXIgPSBXZWJDaGFubmVsQ29yZS5TREsuY2FyO1xyXG4gICAgXHJcbiAgICBzcGVlZExhYmVsLnRleHRDb250ZW50ID0gYXdhaXQgY2FyLmdldFNwZWVkKCk7XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gb25BbmdsZUNoYW5nZWQoKSB7XHJcbiAgICBsZXQgYW5nbGVMYWJlbCA9ICh3aW5kb3cgYXMgYW55KS5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuZ2xlXCIpO1xyXG4gICAgbGV0IGNhciA9IFdlYkNoYW5uZWxDb3JlLlNESy5jYXI7XHJcblxyXG4gICAgYW5nbGVMYWJlbC50ZXh0Q29udGVudCA9IGF3YWl0IGNhci5nZXRBbmdsZSgpO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ts-loader/index.js!./src/main.ts\n");

/***/ }),

/***/ "./node_modules/ts-loader/index.js!./src/webchannelCore.ts":
/*!********************************************************!*\
  !*** ./node_modules/ts-loader!./src/webchannelCore.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar qwebchannel_1 = __webpack_require__(/*! ./qwebchannel */ \"./src/qwebchannel.js\");\r\nvar WebChannelCore = /** @class */ (function () {\r\n    function WebChannelCore() {\r\n    }\r\n    WebChannelCore.initialize = function (connectedCb, disconnectedCb) {\r\n        if (connectedCb === void 0) { connectedCb = function () { }; }\r\n        if (disconnectedCb === void 0) { disconnectedCb = function () { }; }\r\n        if (WebChannelCore.SDK != undefined) {\r\n            return;\r\n        }\r\n        WebChannelCore.connectedCb = connectedCb;\r\n        WebChannelCore.disconnectedCb = disconnectedCb;\r\n        try {\r\n            WebChannelCore.link(function (socket) {\r\n                qwebchannel_1.QWebChannel(socket, function (channel) {\r\n                    WebChannelCore.SDK = channel.objects;\r\n                    WebChannelCore.connectedCb();\r\n                });\r\n            }, function (error) {\r\n                console.log(\"socket error\", error);\r\n                WebChannelCore.disconnectedCb();\r\n            });\r\n        }\r\n        catch (error) {\r\n            console.log(\"socket exception:\", error);\r\n            WebChannelCore.disconnectedCb();\r\n            WebChannelCore.SDK = undefined;\r\n        }\r\n    };\r\n    WebChannelCore.link = function (resolve, reject) {\r\n        var baseUrl = \"ws://localhost:12345\";\r\n        if (window.location.search != \"\") {\r\n            baseUrl = (/[?&]webChannelBaseUrl=([A-Za-z0-9\\-:/\\.]+)/.exec(window.location.search)[1]);\r\n        }\r\n        console.log(\"Connectiong to WebSocket server at: \", baseUrl);\r\n        var socket = new WebSocket(baseUrl);\r\n        WebChannelCore.socket = socket;\r\n        socket.onopen = function () {\r\n            resolve(socket);\r\n        };\r\n        socket.onerror = function (error) {\r\n            reject(error);\r\n        };\r\n        socket.onclose = function (error) {\r\n            reject(error);\r\n        };\r\n    };\r\n    WebChannelCore.SDK = undefined;\r\n    return WebChannelCore;\r\n}());\r\nexports.default = WebChannelCore;\r\nwindow.SDK = WebChannelCore.SDK;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2ViY2hhbm5lbENvcmUudHM/ZDU2MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHFGQUE0QztBQUc1QztJQUFBO0lBaURBLENBQUM7SUE1Q2lCLHlCQUFVLEdBQXhCLFVBQXlCLFdBQWlDLEVBQUUsY0FBb0M7UUFBdkUsMERBQWdDLENBQUM7UUFBRSxnRUFBbUMsQ0FBQztRQUM1RixJQUFJLGNBQWMsQ0FBQyxHQUFHLElBQUksU0FBUyxFQUFFO1lBQ2pDLE9BQU87U0FDVjtRQUNELGNBQWMsQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO1FBQ3pDLGNBQWMsQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO1FBQy9DLElBQUk7WUFDQSxjQUFjLENBQUMsSUFBSSxDQUNmLFVBQUMsTUFBTTtnQkFDSCx5QkFBVyxDQUFDLE1BQU0sRUFBRSxVQUFDLE9BQVk7b0JBQzdCLGNBQWMsQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQztvQkFDckMsY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUNqQyxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUMsRUFDQyxVQUFDLEtBQUs7Z0JBQ0osT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ25DLGNBQWMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNwQyxDQUFDLENBQUMsQ0FBQztTQUNWO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDWixPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3hDLGNBQWMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNoQyxjQUFjLENBQUMsR0FBRyxHQUFHLFNBQVMsQ0FBQztTQUNsQztJQUNMLENBQUM7SUFFYyxtQkFBSSxHQUFuQixVQUFvQixPQUFvQyxFQUFFLE1BQTJDO1FBQ2pHLElBQUksT0FBTyxHQUFHLHNCQUFzQixDQUFDO1FBQ3JDLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLElBQUksRUFBRSxFQUFFO1lBQzlCLE9BQU8sR0FBRyxDQUFDLDRDQUE0QyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDN0Y7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLHNDQUFzQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBRTdELElBQUksTUFBTSxHQUFHLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQy9CLE1BQU0sQ0FBQyxNQUFNLEdBQUc7WUFDWixPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEIsQ0FBQyxDQUFDO1FBQ0YsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFDLEtBQUs7WUFDbkIsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2xCLENBQUMsQ0FBQztRQUNGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBQyxLQUFLO1lBQ25CLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQixDQUFDLENBQUM7SUFDTixDQUFDO0lBL0NhLGtCQUFHLEdBQVEsU0FBUyxDQUFDO0lBZ0R2QyxxQkFBQztDQUFBO2tCQWpEb0IsY0FBYztBQWtEbEMsTUFBYyxDQUFDLEdBQUcsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3RzLWxvYWRlci9pbmRleC5qcyEuL3NyYy93ZWJjaGFubmVsQ29yZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFFXZWJDaGFubmVsIH0gZnJvbSAnLi9xd2ViY2hhbm5lbCc7XHJcblxyXG50eXBlIGNhbGxiYWNrID0gKCkgPT4gdm9pZDtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViQ2hhbm5lbENvcmUge1xyXG4gICAgcHVibGljIHN0YXRpYyBTREs6IGFueSA9IHVuZGVmaW5lZDtcclxuICAgIHByaXZhdGUgc3RhdGljIGNvbm5lY3RlZENiOiBjYWxsYmFjaztcclxuICAgIHByaXZhdGUgc3RhdGljIGRpc2Nvbm5lY3RlZENiOiBjYWxsYmFjaztcclxuICAgIHByaXZhdGUgc3RhdGljIHNvY2tldDogV2ViU29ja2V0O1xyXG4gICAgcHVibGljIHN0YXRpYyBpbml0aWFsaXplKGNvbm5lY3RlZENiOiBjYWxsYmFjayA9ICgpID0+IHsgfSwgZGlzY29ubmVjdGVkQ2I6IGNhbGxiYWNrID0gKCkgPT4geyB9KSB7XHJcbiAgICAgICAgaWYgKFdlYkNoYW5uZWxDb3JlLlNESyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJDaGFubmVsQ29yZS5jb25uZWN0ZWRDYiA9IGNvbm5lY3RlZENiO1xyXG4gICAgICAgIFdlYkNoYW5uZWxDb3JlLmRpc2Nvbm5lY3RlZENiID0gZGlzY29ubmVjdGVkQ2I7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgV2ViQ2hhbm5lbENvcmUubGluayhcclxuICAgICAgICAgICAgICAgIChzb2NrZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBRV2ViQ2hhbm5lbChzb2NrZXQsIChjaGFubmVsOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgV2ViQ2hhbm5lbENvcmUuU0RLID0gY2hhbm5lbC5vYmplY3RzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBXZWJDaGFubmVsQ29yZS5jb25uZWN0ZWRDYigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNvY2tldCBlcnJvclwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgV2ViQ2hhbm5lbENvcmUuZGlzY29ubmVjdGVkQ2IoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic29ja2V0IGV4Y2VwdGlvbjpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICBXZWJDaGFubmVsQ29yZS5kaXNjb25uZWN0ZWRDYigpO1xyXG4gICAgICAgICAgICBXZWJDaGFubmVsQ29yZS5TREsgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGxpbmsocmVzb2x2ZTogKHNvY2tldDogV2ViU29ja2V0KSA9PiB2b2lkLCByZWplY3Q6IChlcnJvcjogRXZlbnQgfCBDbG9zZUV2ZW50KSA9PiB2b2lkKSB7XHJcbiAgICAgICAgbGV0IGJhc2VVcmwgPSBcIndzOi8vbG9jYWxob3N0OjEyMzQ1XCI7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggIT0gXCJcIikge1xyXG4gICAgICAgICAgICBiYXNlVXJsID0gKC9bPyZdd2ViQ2hhbm5lbEJhc2VVcmw9KFtBLVphLXowLTlcXC06L1xcLl0rKS8uZXhlYyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKSFbMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3Rpb25nIHRvIFdlYlNvY2tldCBzZXJ2ZXIgYXQ6IFwiLCBiYXNlVXJsKTtcclxuXHJcbiAgICAgICAgbGV0IHNvY2tldCA9IG5ldyBXZWJTb2NrZXQoYmFzZVVybCk7XHJcbiAgICAgICAgV2ViQ2hhbm5lbENvcmUuc29ja2V0ID0gc29ja2V0O1xyXG4gICAgICAgIHNvY2tldC5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoc29ja2V0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNvY2tldC5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzb2NrZXQub25jbG9zZSA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuKHdpbmRvdyBhcyBhbnkpLlNESyA9IFdlYkNoYW5uZWxDb3JlLlNESztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/ts-loader/index.js!./src/webchannelCore.ts\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzP2NkMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./src/main.ts-exposed":
/*!*****************************!*\
  !*** ./src/main.ts-exposed ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"Library\"] = __webpack_require__(/*! -!./node_modules/ts-loader!./main.ts */ \"./node_modules/ts-loader/index.js!./src/main.ts\");\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cy1leHBvc2VkPzY2MjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbUZBQXFDLG1CQUFPLENBQUMsNkZBQW9HLEUiLCJmaWxlIjoiLi9zcmMvbWFpbi50cy1leHBvc2VkLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxbXCJMaWJyYXJ5XCJdID0gcmVxdWlyZShcIi0hRTpcXFxcRGV2XFxcXExhYnNcXFxcUXRcXFxcTWluZVxcXFxRdFdlYlxcXFxXZWJDaGFubmVsQ2FyXFxcXFdlYlxcXFxub2RlX21vZHVsZXNcXFxcdHMtbG9hZGVyXFxcXGluZGV4LmpzIS5cXFxcbWFpbi50c1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/main.ts-exposed\n");

/***/ }),

/***/ "./src/qwebchannel.js":
/*!****************************!*\
  !*** ./src/qwebchannel.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/****************************************************************************\r\n**\r\n** Copyright (C) 2016 The Qt Company Ltd.\r\n** Copyright (C) 2016 Klarälvdalens Datakonsult AB, a KDAB Group company, info@kdab.com, author Milian Wolff <milian.wolff@kdab.com>\r\n** Contact: https://www.qt.io/licensing/\r\n**\r\n** This file is part of the QtWebChannel module of the Qt Toolkit.\r\n**\r\n** $QT_BEGIN_LICENSE:LGPL$\r\n** Commercial License Usage\r\n** Licensees holding valid commercial Qt licenses may use this file in\r\n** accordance with the commercial license agreement provided with the\r\n** Software or, alternatively, in accordance with the terms contained in\r\n** a written agreement between you and The Qt Company. For licensing terms\r\n** and conditions see https://www.qt.io/terms-conditions. For further\r\n** information use the contact form at https://www.qt.io/contact-us.\r\n**\r\n** GNU Lesser General Public License Usage\r\n** Alternatively, this file may be used under the terms of the GNU Lesser\r\n** General Public License version 3 as published by the Free Software\r\n** Foundation and appearing in the file LICENSE.LGPL3 included in the\r\n** packaging of this file. Please review the following information to\r\n** ensure the GNU Lesser General Public License version 3 requirements\r\n** will be met: https://www.gnu.org/licenses/lgpl-3.0.html.\r\n**\r\n** GNU General Public License Usage\r\n** Alternatively, this file may be used under the terms of the GNU\r\n** General Public License version 2.0 or (at your option) the GNU General\r\n** Public license version 3 or any later version approved by the KDE Free\r\n** Qt Foundation. The licenses are as published by the Free Software\r\n** Foundation and appearing in the file LICENSE.GPL2 and LICENSE.GPL3\r\n** included in the packaging of this file. Please review the following\r\n** information to ensure the GNU General Public License requirements will\r\n** be met: https://www.gnu.org/licenses/gpl-2.0.html and\r\n** https://www.gnu.org/licenses/gpl-3.0.html.\r\n**\r\n** $QT_END_LICENSE$\r\n**\r\n****************************************************************************/\r\n\r\n\r\n\r\nvar QWebChannelMessageTypes = {\r\n    signal: 1,\r\n    propertyUpdate: 2,\r\n    init: 3,\r\n    idle: 4,\r\n    debug: 5,\r\n    invokeMethod: 6,\r\n    connectToSignal: 7,\r\n    disconnectFromSignal: 8,\r\n    setProperty: 9,\r\n    response: 10,\r\n};\r\n\r\nvar QWebChannel = function(transport, initCallback)\r\n{\r\n    if (typeof transport !== \"object\" || typeof transport.send !== \"function\") {\r\n        console.error(\"The QWebChannel expects a transport object with a send function and onmessage callback property.\" +\r\n                      \" Given is: transport: \" + typeof(transport) + \", transport.send: \" + typeof(transport.send));\r\n        return;\r\n    }\r\n\r\n    var channel = this;\r\n    this.transport = transport;\r\n\r\n    this.send = function(data)\r\n    {\r\n        if (typeof(data) !== \"string\") {\r\n            data = JSON.stringify(data);\r\n        }\r\n        channel.transport.send(data);\r\n    }\r\n\r\n    this.transport.onmessage = function(message)\r\n    {\r\n        var data = message.data;\r\n        if (typeof data === \"string\") {\r\n            data = JSON.parse(data);\r\n        }\r\n        switch (data.type) {\r\n            case QWebChannelMessageTypes.signal:\r\n                channel.handleSignal(data);\r\n                break;\r\n            case QWebChannelMessageTypes.response:\r\n                channel.handleResponse(data);\r\n                break;\r\n            case QWebChannelMessageTypes.propertyUpdate:\r\n                channel.handlePropertyUpdate(data);\r\n                break;\r\n            default:\r\n                console.error(\"invalid message received:\", message.data);\r\n                break;\r\n        }\r\n    }\r\n\r\n    this.execCallbacks = {};\r\n    this.execId = 0;\r\n    this.exec = function(data, callback)\r\n    {\r\n        if (!callback) {\r\n            // if no callback is given, send directly\r\n            channel.send(data);\r\n            return;\r\n        }\r\n        if (channel.execId === Number.MAX_VALUE) {\r\n            // wrap\r\n            channel.execId = Number.MIN_VALUE;\r\n        }\r\n        if (data.hasOwnProperty(\"id\")) {\r\n            console.error(\"Cannot exec message with property id: \" + JSON.stringify(data));\r\n            return;\r\n        }\r\n        data.id = channel.execId++;\r\n        channel.execCallbacks[data.id] = callback;\r\n        channel.send(data);\r\n    };\r\n\r\n    this.objects = {};\r\n\r\n    this.handleSignal = function(message)\r\n    {\r\n        var object = channel.objects[message.object];\r\n        if (object) {\r\n            object.signalEmitted(message.signal, message.args);\r\n        } else {\r\n            console.warn(\"Unhandled signal: \" + message.object + \"::\" + message.signal);\r\n        }\r\n    }\r\n\r\n    this.handleResponse = function(message)\r\n    {\r\n        if (!message.hasOwnProperty(\"id\")) {\r\n            console.error(\"Invalid response message received: \", JSON.stringify(message));\r\n            return;\r\n        }\r\n        channel.execCallbacks[message.id](message.data);\r\n        delete channel.execCallbacks[message.id];\r\n    }\r\n\r\n    this.handlePropertyUpdate = function(message)\r\n    {\r\n        for (var i in message.data) {\r\n            var data = message.data[i];\r\n            var object = channel.objects[data.object];\r\n            if (object) {\r\n                object.propertyUpdate(data.signals, data.properties);\r\n            } else {\r\n                console.warn(\"Unhandled property update: \" + data.object + \"::\" + data.signal);\r\n            }\r\n        }\r\n        channel.exec({type: QWebChannelMessageTypes.idle});\r\n    }\r\n\r\n    this.debug = function(message)\r\n    {\r\n        channel.send({type: QWebChannelMessageTypes.debug, data: message});\r\n    };\r\n\r\n    channel.exec({type: QWebChannelMessageTypes.init}, function(data) {\r\n        for (var objectName in data) {\r\n            var object = new QObject(objectName, data[objectName], channel);\r\n        }\r\n        // now unwrap properties, which might reference other registered objects\r\n        for (var objectName in channel.objects) {\r\n            channel.objects[objectName].unwrapProperties();\r\n        }\r\n        if (initCallback) {\r\n            initCallback(channel);\r\n        }\r\n        channel.exec({type: QWebChannelMessageTypes.idle});\r\n    });\r\n};\r\n\r\nfunction QObject(name, data, webChannel)\r\n{\r\n    this.__id__ = name;\r\n    webChannel.objects[name] = this;\r\n\r\n    // List of callbacks that get invoked upon signal emission\r\n    this.__objectSignals__ = {};\r\n\r\n    // Cache of all properties, updated when a notify signal is emitted\r\n    this.__propertyCache__ = {};\r\n\r\n    var object = this;\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    this.unwrapQObject = function(response)\r\n    {\r\n        if (response instanceof Array) {\r\n            // support list of objects\r\n            var ret = new Array(response.length);\r\n            for (var i = 0; i < response.length; ++i) {\r\n                ret[i] = object.unwrapQObject(response[i]);\r\n            }\r\n            return ret;\r\n        }\r\n        if (!response\r\n            || !response[\"__QObject*__\"]\r\n            || response.id === undefined) {\r\n            return response;\r\n        }\r\n\r\n        var objectId = response.id;\r\n        if (webChannel.objects[objectId])\r\n            return webChannel.objects[objectId];\r\n\r\n        if (!response.data) {\r\n            console.error(\"Cannot unwrap unknown QObject \" + objectId + \" without data.\");\r\n            return;\r\n        }\r\n\r\n        var qObject = new QObject( objectId, response.data, webChannel );\r\n        qObject.destroyed.connect(function() {\r\n            if (webChannel.objects[objectId] === qObject) {\r\n                delete webChannel.objects[objectId];\r\n                // reset the now deleted QObject to an empty {} object\r\n                // just assigning {} though would not have the desired effect, but the\r\n                // below also ensures all external references will see the empty map\r\n                // NOTE: this detour is necessary to workaround QTBUG-40021\r\n                var propertyNames = [];\r\n                for (var propertyName in qObject) {\r\n                    propertyNames.push(propertyName);\r\n                }\r\n                for (var idx in propertyNames) {\r\n                    delete qObject[propertyNames[idx]];\r\n                }\r\n            }\r\n        });\r\n        // here we are already initialized, and thus must directly unwrap the properties\r\n        qObject.unwrapProperties();\r\n        return qObject;\r\n    }\r\n\r\n    this.unwrapProperties = function()\r\n    {\r\n        for (var propertyIdx in object.__propertyCache__) {\r\n            object.__propertyCache__[propertyIdx] = object.unwrapQObject(object.__propertyCache__[propertyIdx]);\r\n        }\r\n    }\r\n\r\n    function addSignal(signalData, isPropertyNotifySignal)\r\n    {\r\n        var signalName = signalData[0];\r\n        var signalIndex = signalData[1];\r\n        object[signalName] = {\r\n            connect: function(callback) {\r\n                if (typeof(callback) !== \"function\") {\r\n                    console.error(\"Bad callback given to connect to signal \" + signalName);\r\n                    return;\r\n                }\r\n\r\n                object.__objectSignals__[signalIndex] = object.__objectSignals__[signalIndex] || [];\r\n                object.__objectSignals__[signalIndex].push(callback);\r\n\r\n                if (!isPropertyNotifySignal && signalName !== \"destroyed\") {\r\n                    // only required for \"pure\" signals, handled separately for properties in propertyUpdate\r\n                    // also note that we always get notified about the destroyed signal\r\n                    webChannel.exec({\r\n                        type: QWebChannelMessageTypes.connectToSignal,\r\n                        object: object.__id__,\r\n                        signal: signalIndex\r\n                    });\r\n                }\r\n            },\r\n            disconnect: function(callback) {\r\n                if (typeof(callback) !== \"function\") {\r\n                    console.error(\"Bad callback given to disconnect from signal \" + signalName);\r\n                    return;\r\n                }\r\n                object.__objectSignals__[signalIndex] = object.__objectSignals__[signalIndex] || [];\r\n                var idx = object.__objectSignals__[signalIndex].indexOf(callback);\r\n                if (idx === -1) {\r\n                    console.error(\"Cannot find connection of signal \" + signalName + \" to \" + callback.name);\r\n                    return;\r\n                }\r\n                object.__objectSignals__[signalIndex].splice(idx, 1);\r\n                if (!isPropertyNotifySignal && object.__objectSignals__[signalIndex].length === 0) {\r\n                    // only required for \"pure\" signals, handled separately for properties in propertyUpdate\r\n                    webChannel.exec({\r\n                        type: QWebChannelMessageTypes.disconnectFromSignal,\r\n                        object: object.__id__,\r\n                        signal: signalIndex\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Invokes all callbacks for the given signalname. Also works for property notify callbacks.\r\n     */\r\n    function invokeSignalCallbacks(signalName, signalArgs)\r\n    {\r\n        var connections = object.__objectSignals__[signalName];\r\n        if (connections) {\r\n            connections.forEach(function(callback) {\r\n                callback.apply(callback, signalArgs);\r\n            });\r\n        }\r\n    }\r\n\r\n    this.propertyUpdate = function(signals, propertyMap)\r\n    {\r\n        // update property cache\r\n        for (var propertyIndex in propertyMap) {\r\n            var propertyValue = propertyMap[propertyIndex];\r\n            object.__propertyCache__[propertyIndex] = propertyValue;\r\n        }\r\n\r\n        for (var signalName in signals) {\r\n            // Invoke all callbacks, as signalEmitted() does not. This ensures the\r\n            // property cache is updated before the callbacks are invoked.\r\n            invokeSignalCallbacks(signalName, signals[signalName]);\r\n        }\r\n    }\r\n\r\n    this.signalEmitted = function(signalName, signalArgs)\r\n    {\r\n        invokeSignalCallbacks(signalName, this.unwrapQObject(signalArgs));\r\n    }\r\n\r\n    function addMethod(methodData)\r\n    {\r\n        var methodName = methodData[0];\r\n        var methodIdx = methodData[1];\r\n        object[methodName] = async function() {\r\n            var args = [];\r\n            var callback;\r\n            var result;\r\n            for (var i = 0; i < arguments.length; ++i) {\r\n                var argument = arguments[i];\r\n                if (typeof argument === \"function\")\r\n                    callback = argument;\r\n                else if (argument instanceof QObject && webChannel.objects[argument.__id__] !== undefined)\r\n                    args.push({\r\n                        \"id\": argument.__id__\r\n                    });\r\n                else\r\n                    args.push(argument);\r\n            }\r\n\r\n            await new Promise((resolve)=>{\r\n                webChannel.exec({\r\n                    \"type\": QWebChannelMessageTypes.invokeMethod,\r\n                    \"object\": object.__id__,\r\n                    \"method\": methodIdx,\r\n                    \"args\": args\r\n                }, function(response) {\r\n                    if (response !== undefined) {\r\n                        result = object.unwrapQObject(response);\r\n                        if (callback) {\r\n                            (callback)(result);\r\n                        }\r\n                        resolve();\r\n                    }\r\n                });\r\n            });\r\n            return result;\r\n        };\r\n    }\r\n\r\n    function bindGetterSetter(propertyInfo)\r\n    {\r\n        var propertyIndex = propertyInfo[0];\r\n        var propertyName = propertyInfo[1];\r\n        var notifySignalData = propertyInfo[2];\r\n        // initialize property cache with current value\r\n        // NOTE: if this is an object, it is not directly unwrapped as it might\r\n        // reference other QObject that we do not know yet\r\n        object.__propertyCache__[propertyIndex] = propertyInfo[3];\r\n\r\n        if (notifySignalData) {\r\n            if (notifySignalData[0] === 1) {\r\n                // signal name is optimized away, reconstruct the actual name\r\n                notifySignalData[0] = propertyName + \"Changed\";\r\n            }\r\n            addSignal(notifySignalData, true);\r\n        }\r\n\r\n        Object.defineProperty(object, propertyName, {\r\n            configurable: true,\r\n            get: function () {\r\n                var propertyValue = object.__propertyCache__[propertyIndex];\r\n                if (propertyValue === undefined) {\r\n                    // This shouldn't happen\r\n                    console.warn(\"Undefined value in property cache for property \\\"\" + propertyName + \"\\\" in object \" + object.__id__);\r\n                }\r\n\r\n                return propertyValue;\r\n            },\r\n            set: function(value) {\r\n                if (value === undefined) {\r\n                    console.warn(\"Property setter for \" + propertyName + \" called with undefined value!\");\r\n                    return;\r\n                }\r\n                object.__propertyCache__[propertyIndex] = value;\r\n                var valueToSend = value;\r\n                if (valueToSend instanceof QObject && webChannel.objects[valueToSend.__id__] !== undefined)\r\n                    valueToSend = { \"id\": valueToSend.__id__ };\r\n                webChannel.exec({\r\n                    \"type\": QWebChannelMessageTypes.setProperty,\r\n                    \"object\": object.__id__,\r\n                    \"property\": propertyIndex,\r\n                    \"value\": valueToSend\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    // ----------------------------------------------------------------------\r\n\r\n    data.methods.forEach(addMethod);\r\n\r\n    data.properties.forEach(bindGetterSetter);\r\n\r\n    data.signals.forEach(function(signal) { addSignal(signal, false); });\r\n\r\n    for (var name in data.enums) {\r\n        object[name] = data.enums[name];\r\n    }\r\n}\r\n\r\n//required for use with nodejs\r\nif (true) {\r\n    module.exports = {\r\n        QWebChannel: QWebChannel\r\n    };\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcXdlYmNoYW5uZWwuanM/MTI5NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1DQUFtQztBQUN6RDs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLG1EQUFtRDtBQUN6RTs7QUFFQSxrQkFBa0IsbUNBQW1DO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1DQUFtQztBQUN6RCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscUJBQXFCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Qsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzQkFBc0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsMkNBQTJDLDBCQUEwQixFQUFFOztBQUV2RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksSUFBMEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvcXdlYmNoYW5uZWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4qKlxyXG4qKiBDb3B5cmlnaHQgKEMpIDIwMTYgVGhlIFF0IENvbXBhbnkgTHRkLlxyXG4qKiBDb3B5cmlnaHQgKEMpIDIwMTYgS2xhcsOkbHZkYWxlbnMgRGF0YWtvbnN1bHQgQUIsIGEgS0RBQiBHcm91cCBjb21wYW55LCBpbmZvQGtkYWIuY29tLCBhdXRob3IgTWlsaWFuIFdvbGZmIDxtaWxpYW4ud29sZmZAa2RhYi5jb20+XHJcbioqIENvbnRhY3Q6IGh0dHBzOi8vd3d3LnF0LmlvL2xpY2Vuc2luZy9cclxuKipcclxuKiogVGhpcyBmaWxlIGlzIHBhcnQgb2YgdGhlIFF0V2ViQ2hhbm5lbCBtb2R1bGUgb2YgdGhlIFF0IFRvb2xraXQuXHJcbioqXHJcbioqICRRVF9CRUdJTl9MSUNFTlNFOkxHUEwkXHJcbioqIENvbW1lcmNpYWwgTGljZW5zZSBVc2FnZVxyXG4qKiBMaWNlbnNlZXMgaG9sZGluZyB2YWxpZCBjb21tZXJjaWFsIFF0IGxpY2Vuc2VzIG1heSB1c2UgdGhpcyBmaWxlIGluXHJcbioqIGFjY29yZGFuY2Ugd2l0aCB0aGUgY29tbWVyY2lhbCBsaWNlbnNlIGFncmVlbWVudCBwcm92aWRlZCB3aXRoIHRoZVxyXG4qKiBTb2Z0d2FyZSBvciwgYWx0ZXJuYXRpdmVseSwgaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSB0ZXJtcyBjb250YWluZWQgaW5cclxuKiogYSB3cml0dGVuIGFncmVlbWVudCBiZXR3ZWVuIHlvdSBhbmQgVGhlIFF0IENvbXBhbnkuIEZvciBsaWNlbnNpbmcgdGVybXNcclxuKiogYW5kIGNvbmRpdGlvbnMgc2VlIGh0dHBzOi8vd3d3LnF0LmlvL3Rlcm1zLWNvbmRpdGlvbnMuIEZvciBmdXJ0aGVyXHJcbioqIGluZm9ybWF0aW9uIHVzZSB0aGUgY29udGFjdCBmb3JtIGF0IGh0dHBzOi8vd3d3LnF0LmlvL2NvbnRhY3QtdXMuXHJcbioqXHJcbioqIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBVc2FnZVxyXG4qKiBBbHRlcm5hdGl2ZWx5LCB0aGlzIGZpbGUgbWF5IGJlIHVzZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyXHJcbioqIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZVxyXG4qKiBGb3VuZGF0aW9uIGFuZCBhcHBlYXJpbmcgaW4gdGhlIGZpbGUgTElDRU5TRS5MR1BMMyBpbmNsdWRlZCBpbiB0aGVcclxuKiogcGFja2FnaW5nIG9mIHRoaXMgZmlsZS4gUGxlYXNlIHJldmlldyB0aGUgZm9sbG93aW5nIGluZm9ybWF0aW9uIHRvXHJcbioqIGVuc3VyZSB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMyByZXF1aXJlbWVudHNcclxuKiogd2lsbCBiZSBtZXQ6IGh0dHBzOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvbGdwbC0zLjAuaHRtbC5cclxuKipcclxuKiogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgVXNhZ2VcclxuKiogQWx0ZXJuYXRpdmVseSwgdGhpcyBmaWxlIG1heSBiZSB1c2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VXHJcbioqIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAyLjAgb3IgKGF0IHlvdXIgb3B0aW9uKSB0aGUgR05VIEdlbmVyYWxcclxuKiogUHVibGljIGxpY2Vuc2UgdmVyc2lvbiAzIG9yIGFueSBsYXRlciB2ZXJzaW9uIGFwcHJvdmVkIGJ5IHRoZSBLREUgRnJlZVxyXG4qKiBRdCBGb3VuZGF0aW9uLiBUaGUgbGljZW5zZXMgYXJlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZVxyXG4qKiBGb3VuZGF0aW9uIGFuZCBhcHBlYXJpbmcgaW4gdGhlIGZpbGUgTElDRU5TRS5HUEwyIGFuZCBMSUNFTlNFLkdQTDNcclxuKiogaW5jbHVkZWQgaW4gdGhlIHBhY2thZ2luZyBvZiB0aGlzIGZpbGUuIFBsZWFzZSByZXZpZXcgdGhlIGZvbGxvd2luZ1xyXG4qKiBpbmZvcm1hdGlvbiB0byBlbnN1cmUgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHJlcXVpcmVtZW50cyB3aWxsXHJcbioqIGJlIG1ldDogaHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwtMi4wLmh0bWwgYW5kXHJcbioqIGh0dHBzOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLTMuMC5odG1sLlxyXG4qKlxyXG4qKiAkUVRfRU5EX0xJQ0VOU0UkXHJcbioqXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBRV2ViQ2hhbm5lbE1lc3NhZ2VUeXBlcyA9IHtcclxuICAgIHNpZ25hbDogMSxcclxuICAgIHByb3BlcnR5VXBkYXRlOiAyLFxyXG4gICAgaW5pdDogMyxcclxuICAgIGlkbGU6IDQsXHJcbiAgICBkZWJ1ZzogNSxcclxuICAgIGludm9rZU1ldGhvZDogNixcclxuICAgIGNvbm5lY3RUb1NpZ25hbDogNyxcclxuICAgIGRpc2Nvbm5lY3RGcm9tU2lnbmFsOiA4LFxyXG4gICAgc2V0UHJvcGVydHk6IDksXHJcbiAgICByZXNwb25zZTogMTAsXHJcbn07XHJcblxyXG52YXIgUVdlYkNoYW5uZWwgPSBmdW5jdGlvbih0cmFuc3BvcnQsIGluaXRDYWxsYmFjaylcclxue1xyXG4gICAgaWYgKHR5cGVvZiB0cmFuc3BvcnQgIT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIHRyYW5zcG9ydC5zZW5kICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlIFFXZWJDaGFubmVsIGV4cGVjdHMgYSB0cmFuc3BvcnQgb2JqZWN0IHdpdGggYSBzZW5kIGZ1bmN0aW9uIGFuZCBvbm1lc3NhZ2UgY2FsbGJhY2sgcHJvcGVydHkuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgXCIgR2l2ZW4gaXM6IHRyYW5zcG9ydDogXCIgKyB0eXBlb2YodHJhbnNwb3J0KSArIFwiLCB0cmFuc3BvcnQuc2VuZDogXCIgKyB0eXBlb2YodHJhbnNwb3J0LnNlbmQpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGNoYW5uZWwgPSB0aGlzO1xyXG4gICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XHJcblxyXG4gICAgdGhpcy5zZW5kID0gZnVuY3Rpb24oZGF0YSlcclxuICAgIHtcclxuICAgICAgICBpZiAodHlwZW9mKGRhdGEpICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hhbm5lbC50cmFuc3BvcnQuc2VuZChkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRyYW5zcG9ydC5vbm1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBkYXRhID0gbWVzc2FnZS5kYXRhO1xyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBRV2ViQ2hhbm5lbE1lc3NhZ2VUeXBlcy5zaWduYWw6XHJcbiAgICAgICAgICAgICAgICBjaGFubmVsLmhhbmRsZVNpZ25hbChkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFFXZWJDaGFubmVsTWVzc2FnZVR5cGVzLnJlc3BvbnNlOlxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbC5oYW5kbGVSZXNwb25zZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFFXZWJDaGFubmVsTWVzc2FnZVR5cGVzLnByb3BlcnR5VXBkYXRlOlxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbC5oYW5kbGVQcm9wZXJ0eVVwZGF0ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImludmFsaWQgbWVzc2FnZSByZWNlaXZlZDpcIiwgbWVzc2FnZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmV4ZWNDYWxsYmFja3MgPSB7fTtcclxuICAgIHRoaXMuZXhlY0lkID0gMDtcclxuICAgIHRoaXMuZXhlYyA9IGZ1bmN0aW9uKGRhdGEsIGNhbGxiYWNrKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgLy8gaWYgbm8gY2FsbGJhY2sgaXMgZ2l2ZW4sIHNlbmQgZGlyZWN0bHlcclxuICAgICAgICAgICAgY2hhbm5lbC5zZW5kKGRhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjaGFubmVsLmV4ZWNJZCA9PT0gTnVtYmVyLk1BWF9WQUxVRSkge1xyXG4gICAgICAgICAgICAvLyB3cmFwXHJcbiAgICAgICAgICAgIGNoYW5uZWwuZXhlY0lkID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoXCJpZFwiKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGV4ZWMgbWVzc2FnZSB3aXRoIHByb3BlcnR5IGlkOiBcIiArIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRhLmlkID0gY2hhbm5lbC5leGVjSWQrKztcclxuICAgICAgICBjaGFubmVsLmV4ZWNDYWxsYmFja3NbZGF0YS5pZF0gPSBjYWxsYmFjaztcclxuICAgICAgICBjaGFubmVsLnNlbmQoZGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub2JqZWN0cyA9IHt9O1xyXG5cclxuICAgIHRoaXMuaGFuZGxlU2lnbmFsID0gZnVuY3Rpb24obWVzc2FnZSlcclxuICAgIHtcclxuICAgICAgICB2YXIgb2JqZWN0ID0gY2hhbm5lbC5vYmplY3RzW21lc3NhZ2Uub2JqZWN0XTtcclxuICAgICAgICBpZiAob2JqZWN0KSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5zaWduYWxFbWl0dGVkKG1lc3NhZ2Uuc2lnbmFsLCBtZXNzYWdlLmFyZ3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVuaGFuZGxlZCBzaWduYWw6IFwiICsgbWVzc2FnZS5vYmplY3QgKyBcIjo6XCIgKyBtZXNzYWdlLnNpZ25hbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaGFuZGxlUmVzcG9uc2UgPSBmdW5jdGlvbihtZXNzYWdlKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIG1lc3NhZ2UgcmVjZWl2ZWQ6IFwiLCBKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hhbm5lbC5leGVjQ2FsbGJhY2tzW21lc3NhZ2UuaWRdKG1lc3NhZ2UuZGF0YSk7XHJcbiAgICAgICAgZGVsZXRlIGNoYW5uZWwuZXhlY0NhbGxiYWNrc1ttZXNzYWdlLmlkXTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmhhbmRsZVByb3BlcnR5VXBkYXRlID0gZnVuY3Rpb24obWVzc2FnZSlcclxuICAgIHtcclxuICAgICAgICBmb3IgKHZhciBpIGluIG1lc3NhZ2UuZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IG1lc3NhZ2UuZGF0YVtpXTtcclxuICAgICAgICAgICAgdmFyIG9iamVjdCA9IGNoYW5uZWwub2JqZWN0c1tkYXRhLm9iamVjdF07XHJcbiAgICAgICAgICAgIGlmIChvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdC5wcm9wZXJ0eVVwZGF0ZShkYXRhLnNpZ25hbHMsIGRhdGEucHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmhhbmRsZWQgcHJvcGVydHkgdXBkYXRlOiBcIiArIGRhdGEub2JqZWN0ICsgXCI6OlwiICsgZGF0YS5zaWduYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoYW5uZWwuZXhlYyh7dHlwZTogUVdlYkNoYW5uZWxNZXNzYWdlVHlwZXMuaWRsZX0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGVidWcgPSBmdW5jdGlvbihtZXNzYWdlKVxyXG4gICAge1xyXG4gICAgICAgIGNoYW5uZWwuc2VuZCh7dHlwZTogUVdlYkNoYW5uZWxNZXNzYWdlVHlwZXMuZGVidWcsIGRhdGE6IG1lc3NhZ2V9KTtcclxuICAgIH07XHJcblxyXG4gICAgY2hhbm5lbC5leGVjKHt0eXBlOiBRV2ViQ2hhbm5lbE1lc3NhZ2VUeXBlcy5pbml0fSwgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGZvciAodmFyIG9iamVjdE5hbWUgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgb2JqZWN0ID0gbmV3IFFPYmplY3Qob2JqZWN0TmFtZSwgZGF0YVtvYmplY3ROYW1lXSwgY2hhbm5lbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG5vdyB1bndyYXAgcHJvcGVydGllcywgd2hpY2ggbWlnaHQgcmVmZXJlbmNlIG90aGVyIHJlZ2lzdGVyZWQgb2JqZWN0c1xyXG4gICAgICAgIGZvciAodmFyIG9iamVjdE5hbWUgaW4gY2hhbm5lbC5vYmplY3RzKSB7XHJcbiAgICAgICAgICAgIGNoYW5uZWwub2JqZWN0c1tvYmplY3ROYW1lXS51bndyYXBQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbml0Q2FsbGJhY2spIHtcclxuICAgICAgICAgICAgaW5pdENhbGxiYWNrKGNoYW5uZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGFubmVsLmV4ZWMoe3R5cGU6IFFXZWJDaGFubmVsTWVzc2FnZVR5cGVzLmlkbGV9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gUU9iamVjdChuYW1lLCBkYXRhLCB3ZWJDaGFubmVsKVxyXG57XHJcbiAgICB0aGlzLl9faWRfXyA9IG5hbWU7XHJcbiAgICB3ZWJDaGFubmVsLm9iamVjdHNbbmFtZV0gPSB0aGlzO1xyXG5cclxuICAgIC8vIExpc3Qgb2YgY2FsbGJhY2tzIHRoYXQgZ2V0IGludm9rZWQgdXBvbiBzaWduYWwgZW1pc3Npb25cclxuICAgIHRoaXMuX19vYmplY3RTaWduYWxzX18gPSB7fTtcclxuXHJcbiAgICAvLyBDYWNoZSBvZiBhbGwgcHJvcGVydGllcywgdXBkYXRlZCB3aGVuIGEgbm90aWZ5IHNpZ25hbCBpcyBlbWl0dGVkXHJcbiAgICB0aGlzLl9fcHJvcGVydHlDYWNoZV9fID0ge307XHJcblxyXG4gICAgdmFyIG9iamVjdCA9IHRoaXM7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMudW53cmFwUU9iamVjdCA9IGZ1bmN0aW9uKHJlc3BvbnNlKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgbGlzdCBvZiBvYmplY3RzXHJcbiAgICAgICAgICAgIHZhciByZXQgPSBuZXcgQXJyYXkocmVzcG9uc2UubGVuZ3RoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgcmV0W2ldID0gb2JqZWN0LnVud3JhcFFPYmplY3QocmVzcG9uc2VbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcmVzcG9uc2VcclxuICAgICAgICAgICAgfHwgIXJlc3BvbnNlW1wiX19RT2JqZWN0Kl9fXCJdXHJcbiAgICAgICAgICAgIHx8IHJlc3BvbnNlLmlkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG9iamVjdElkID0gcmVzcG9uc2UuaWQ7XHJcbiAgICAgICAgaWYgKHdlYkNoYW5uZWwub2JqZWN0c1tvYmplY3RJZF0pXHJcbiAgICAgICAgICAgIHJldHVybiB3ZWJDaGFubmVsLm9iamVjdHNbb2JqZWN0SWRdO1xyXG5cclxuICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbm5vdCB1bndyYXAgdW5rbm93biBRT2JqZWN0IFwiICsgb2JqZWN0SWQgKyBcIiB3aXRob3V0IGRhdGEuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcU9iamVjdCA9IG5ldyBRT2JqZWN0KCBvYmplY3RJZCwgcmVzcG9uc2UuZGF0YSwgd2ViQ2hhbm5lbCApO1xyXG4gICAgICAgIHFPYmplY3QuZGVzdHJveWVkLmNvbm5lY3QoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh3ZWJDaGFubmVsLm9iamVjdHNbb2JqZWN0SWRdID09PSBxT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgd2ViQ2hhbm5lbC5vYmplY3RzW29iamVjdElkXTtcclxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBub3cgZGVsZXRlZCBRT2JqZWN0IHRvIGFuIGVtcHR5IHt9IG9iamVjdFxyXG4gICAgICAgICAgICAgICAgLy8ganVzdCBhc3NpZ25pbmcge30gdGhvdWdoIHdvdWxkIG5vdCBoYXZlIHRoZSBkZXNpcmVkIGVmZmVjdCwgYnV0IHRoZVxyXG4gICAgICAgICAgICAgICAgLy8gYmVsb3cgYWxzbyBlbnN1cmVzIGFsbCBleHRlcm5hbCByZWZlcmVuY2VzIHdpbGwgc2VlIHRoZSBlbXB0eSBtYXBcclxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IHRoaXMgZGV0b3VyIGlzIG5lY2Vzc2FyeSB0byB3b3JrYXJvdW5kIFFUQlVHLTQwMDIxXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHFPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWVzLnB1c2gocHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGlkeCBpbiBwcm9wZXJ0eU5hbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHFPYmplY3RbcHJvcGVydHlOYW1lc1tpZHhdXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGhlcmUgd2UgYXJlIGFscmVhZHkgaW5pdGlhbGl6ZWQsIGFuZCB0aHVzIG11c3QgZGlyZWN0bHkgdW53cmFwIHRoZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgcU9iamVjdC51bndyYXBQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgcmV0dXJuIHFPYmplY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51bndyYXBQcm9wZXJ0aWVzID0gZnVuY3Rpb24oKVxyXG4gICAge1xyXG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5SWR4IGluIG9iamVjdC5fX3Byb3BlcnR5Q2FjaGVfXykge1xyXG4gICAgICAgICAgICBvYmplY3QuX19wcm9wZXJ0eUNhY2hlX19bcHJvcGVydHlJZHhdID0gb2JqZWN0LnVud3JhcFFPYmplY3Qob2JqZWN0Ll9fcHJvcGVydHlDYWNoZV9fW3Byb3BlcnR5SWR4XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFNpZ25hbChzaWduYWxEYXRhLCBpc1Byb3BlcnR5Tm90aWZ5U2lnbmFsKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBzaWduYWxOYW1lID0gc2lnbmFsRGF0YVswXTtcclxuICAgICAgICB2YXIgc2lnbmFsSW5kZXggPSBzaWduYWxEYXRhWzFdO1xyXG4gICAgICAgIG9iamVjdFtzaWduYWxOYW1lXSA9IHtcclxuICAgICAgICAgICAgY29ubmVjdDogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoY2FsbGJhY2spICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQmFkIGNhbGxiYWNrIGdpdmVuIHRvIGNvbm5lY3QgdG8gc2lnbmFsIFwiICsgc2lnbmFsTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG9iamVjdC5fX29iamVjdFNpZ25hbHNfX1tzaWduYWxJbmRleF0gPSBvYmplY3QuX19vYmplY3RTaWduYWxzX19bc2lnbmFsSW5kZXhdIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0Ll9fb2JqZWN0U2lnbmFsc19fW3NpZ25hbEluZGV4XS5wdXNoKGNhbGxiYWNrKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzUHJvcGVydHlOb3RpZnlTaWduYWwgJiYgc2lnbmFsTmFtZSAhPT0gXCJkZXN0cm95ZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgcmVxdWlyZWQgZm9yIFwicHVyZVwiIHNpZ25hbHMsIGhhbmRsZWQgc2VwYXJhdGVseSBmb3IgcHJvcGVydGllcyBpbiBwcm9wZXJ0eVVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsc28gbm90ZSB0aGF0IHdlIGFsd2F5cyBnZXQgbm90aWZpZWQgYWJvdXQgdGhlIGRlc3Ryb3llZCBzaWduYWxcclxuICAgICAgICAgICAgICAgICAgICB3ZWJDaGFubmVsLmV4ZWMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBRV2ViQ2hhbm5lbE1lc3NhZ2VUeXBlcy5jb25uZWN0VG9TaWduYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogb2JqZWN0Ll9faWRfXyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBzaWduYWxJbmRleFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaXNjb25uZWN0OiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihjYWxsYmFjaykgIT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJCYWQgY2FsbGJhY2sgZ2l2ZW4gdG8gZGlzY29ubmVjdCBmcm9tIHNpZ25hbCBcIiArIHNpZ25hbE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9iamVjdC5fX29iamVjdFNpZ25hbHNfX1tzaWduYWxJbmRleF0gPSBvYmplY3QuX19vYmplY3RTaWduYWxzX19bc2lnbmFsSW5kZXhdIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IG9iamVjdC5fX29iamVjdFNpZ25hbHNfX1tzaWduYWxJbmRleF0uaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgZmluZCBjb25uZWN0aW9uIG9mIHNpZ25hbCBcIiArIHNpZ25hbE5hbWUgKyBcIiB0byBcIiArIGNhbGxiYWNrLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9iamVjdC5fX29iamVjdFNpZ25hbHNfX1tzaWduYWxJbmRleF0uc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzUHJvcGVydHlOb3RpZnlTaWduYWwgJiYgb2JqZWN0Ll9fb2JqZWN0U2lnbmFsc19fW3NpZ25hbEluZGV4XS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHJlcXVpcmVkIGZvciBcInB1cmVcIiBzaWduYWxzLCBoYW5kbGVkIHNlcGFyYXRlbHkgZm9yIHByb3BlcnRpZXMgaW4gcHJvcGVydHlVcGRhdGVcclxuICAgICAgICAgICAgICAgICAgICB3ZWJDaGFubmVsLmV4ZWMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBRV2ViQ2hhbm5lbE1lc3NhZ2VUeXBlcy5kaXNjb25uZWN0RnJvbVNpZ25hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3QuX19pZF9fLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHNpZ25hbEluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlcyBhbGwgY2FsbGJhY2tzIGZvciB0aGUgZ2l2ZW4gc2lnbmFsbmFtZS4gQWxzbyB3b3JrcyBmb3IgcHJvcGVydHkgbm90aWZ5IGNhbGxiYWNrcy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaW52b2tlU2lnbmFsQ2FsbGJhY2tzKHNpZ25hbE5hbWUsIHNpZ25hbEFyZ3MpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGNvbm5lY3Rpb25zID0gb2JqZWN0Ll9fb2JqZWN0U2lnbmFsc19fW3NpZ25hbE5hbWVdO1xyXG4gICAgICAgIGlmIChjb25uZWN0aW9ucykge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShjYWxsYmFjaywgc2lnbmFsQXJncyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnByb3BlcnR5VXBkYXRlID0gZnVuY3Rpb24oc2lnbmFscywgcHJvcGVydHlNYXApXHJcbiAgICB7XHJcbiAgICAgICAgLy8gdXBkYXRlIHByb3BlcnR5IGNhY2hlXHJcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHlJbmRleCBpbiBwcm9wZXJ0eU1hcCkge1xyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHlWYWx1ZSA9IHByb3BlcnR5TWFwW3Byb3BlcnR5SW5kZXhdO1xyXG4gICAgICAgICAgICBvYmplY3QuX19wcm9wZXJ0eUNhY2hlX19bcHJvcGVydHlJbmRleF0gPSBwcm9wZXJ0eVZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgc2lnbmFsTmFtZSBpbiBzaWduYWxzKSB7XHJcbiAgICAgICAgICAgIC8vIEludm9rZSBhbGwgY2FsbGJhY2tzLCBhcyBzaWduYWxFbWl0dGVkKCkgZG9lcyBub3QuIFRoaXMgZW5zdXJlcyB0aGVcclxuICAgICAgICAgICAgLy8gcHJvcGVydHkgY2FjaGUgaXMgdXBkYXRlZCBiZWZvcmUgdGhlIGNhbGxiYWNrcyBhcmUgaW52b2tlZC5cclxuICAgICAgICAgICAgaW52b2tlU2lnbmFsQ2FsbGJhY2tzKHNpZ25hbE5hbWUsIHNpZ25hbHNbc2lnbmFsTmFtZV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNpZ25hbEVtaXR0ZWQgPSBmdW5jdGlvbihzaWduYWxOYW1lLCBzaWduYWxBcmdzKVxyXG4gICAge1xyXG4gICAgICAgIGludm9rZVNpZ25hbENhbGxiYWNrcyhzaWduYWxOYW1lLCB0aGlzLnVud3JhcFFPYmplY3Qoc2lnbmFsQXJncykpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZE1ldGhvZChtZXRob2REYXRhKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBtZXRob2ROYW1lID0gbWV0aG9kRGF0YVswXTtcclxuICAgICAgICB2YXIgbWV0aG9kSWR4ID0gbWV0aG9kRGF0YVsxXTtcclxuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBhc3luYyBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3VtZW50ID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudCA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gYXJndW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmd1bWVudCBpbnN0YW5jZW9mIFFPYmplY3QgJiYgd2ViQ2hhbm5lbC5vYmplY3RzW2FyZ3VtZW50Ll9faWRfX10gIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IGFyZ3VtZW50Ll9faWRfX1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKT0+e1xyXG4gICAgICAgICAgICAgICAgd2ViQ2hhbm5lbC5leGVjKHtcclxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogUVdlYkNoYW5uZWxNZXNzYWdlVHlwZXMuaW52b2tlTWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgICAgIFwib2JqZWN0XCI6IG9iamVjdC5fX2lkX18sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJtZXRob2RcIjogbWV0aG9kSWR4LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYXJnc1wiOiBhcmdzXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG9iamVjdC51bndyYXBRT2JqZWN0KHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2FsbGJhY2spKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGJpbmRHZXR0ZXJTZXR0ZXIocHJvcGVydHlJbmZvKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBwcm9wZXJ0eUluZGV4ID0gcHJvcGVydHlJbmZvWzBdO1xyXG4gICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eUluZm9bMV07XHJcbiAgICAgICAgdmFyIG5vdGlmeVNpZ25hbERhdGEgPSBwcm9wZXJ0eUluZm9bMl07XHJcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBwcm9wZXJ0eSBjYWNoZSB3aXRoIGN1cnJlbnQgdmFsdWVcclxuICAgICAgICAvLyBOT1RFOiBpZiB0aGlzIGlzIGFuIG9iamVjdCwgaXQgaXMgbm90IGRpcmVjdGx5IHVud3JhcHBlZCBhcyBpdCBtaWdodFxyXG4gICAgICAgIC8vIHJlZmVyZW5jZSBvdGhlciBRT2JqZWN0IHRoYXQgd2UgZG8gbm90IGtub3cgeWV0XHJcbiAgICAgICAgb2JqZWN0Ll9fcHJvcGVydHlDYWNoZV9fW3Byb3BlcnR5SW5kZXhdID0gcHJvcGVydHlJbmZvWzNdO1xyXG5cclxuICAgICAgICBpZiAobm90aWZ5U2lnbmFsRGF0YSkge1xyXG4gICAgICAgICAgICBpZiAobm90aWZ5U2lnbmFsRGF0YVswXSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gc2lnbmFsIG5hbWUgaXMgb3B0aW1pemVkIGF3YXksIHJlY29uc3RydWN0IHRoZSBhY3R1YWwgbmFtZVxyXG4gICAgICAgICAgICAgICAgbm90aWZ5U2lnbmFsRGF0YVswXSA9IHByb3BlcnR5TmFtZSArIFwiQ2hhbmdlZFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFkZFNpZ25hbChub3RpZnlTaWduYWxEYXRhLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5TmFtZSwge1xyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5VmFsdWUgPSBvYmplY3QuX19wcm9wZXJ0eUNhY2hlX19bcHJvcGVydHlJbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzaG91bGRuJ3QgaGFwcGVuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5kZWZpbmVkIHZhbHVlIGluIHByb3BlcnR5IGNhY2hlIGZvciBwcm9wZXJ0eSBcXFwiXCIgKyBwcm9wZXJ0eU5hbWUgKyBcIlxcXCIgaW4gb2JqZWN0IFwiICsgb2JqZWN0Ll9faWRfXyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUHJvcGVydHkgc2V0dGVyIGZvciBcIiArIHByb3BlcnR5TmFtZSArIFwiIGNhbGxlZCB3aXRoIHVuZGVmaW5lZCB2YWx1ZSFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb2JqZWN0Ll9fcHJvcGVydHlDYWNoZV9fW3Byb3BlcnR5SW5kZXhdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVUb1NlbmQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZVRvU2VuZCBpbnN0YW5jZW9mIFFPYmplY3QgJiYgd2ViQ2hhbm5lbC5vYmplY3RzW3ZhbHVlVG9TZW5kLl9faWRfX10gIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVRvU2VuZCA9IHsgXCJpZFwiOiB2YWx1ZVRvU2VuZC5fX2lkX18gfTtcclxuICAgICAgICAgICAgICAgIHdlYkNoYW5uZWwuZXhlYyh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFFXZWJDaGFubmVsTWVzc2FnZVR5cGVzLnNldFByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgIFwib2JqZWN0XCI6IG9iamVjdC5fX2lkX18sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9wZXJ0eVwiOiBwcm9wZXJ0eUluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogdmFsdWVUb1NlbmRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGRhdGEubWV0aG9kcy5mb3JFYWNoKGFkZE1ldGhvZCk7XHJcblxyXG4gICAgZGF0YS5wcm9wZXJ0aWVzLmZvckVhY2goYmluZEdldHRlclNldHRlcik7XHJcblxyXG4gICAgZGF0YS5zaWduYWxzLmZvckVhY2goZnVuY3Rpb24oc2lnbmFsKSB7IGFkZFNpZ25hbChzaWduYWwsIGZhbHNlKTsgfSk7XHJcblxyXG4gICAgZm9yICh2YXIgbmFtZSBpbiBkYXRhLmVudW1zKSB7XHJcbiAgICAgICAgb2JqZWN0W25hbWVdID0gZGF0YS5lbnVtc1tuYW1lXTtcclxuICAgIH1cclxufVxyXG5cclxuLy9yZXF1aXJlZCBmb3IgdXNlIHdpdGggbm9kZWpzXHJcbmlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jykge1xyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICAgICAgUVdlYkNoYW5uZWw6IFFXZWJDaGFubmVsXHJcbiAgICB9O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/qwebchannel.js\n");

/***/ }),

/***/ "./src/webchannelCore.ts-exposed":
/*!***************************************!*\
  !*** ./src/webchannelCore.ts-exposed ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"Library\"] = __webpack_require__(/*! -!./node_modules/ts-loader!./webchannelCore.ts */ \"./node_modules/ts-loader/index.js!./src/webchannelCore.ts\");\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2ViY2hhbm5lbENvcmUudHMtZXhwb3NlZD9kOWNhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG1GQUFxQyxtQkFBTyxDQUFDLGlIQUE4RyxFIiwiZmlsZSI6Ii4vc3JjL3dlYmNoYW5uZWxDb3JlLnRzLWV4cG9zZWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFtcIkxpYnJhcnlcIl0gPSByZXF1aXJlKFwiLSFFOlxcXFxEZXZcXFxcTGFic1xcXFxRdFxcXFxNaW5lXFxcXFF0V2ViXFxcXFdlYkNoYW5uZWxDYXJcXFxcV2ViXFxcXG5vZGVfbW9kdWxlc1xcXFx0cy1sb2FkZXJcXFxcaW5kZXguanMhLlxcXFx3ZWJjaGFubmVsQ29yZS50c1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/webchannelCore.ts-exposed\n");

/***/ })

/******/ });